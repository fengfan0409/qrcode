<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>网址二维码转换工具</title>
    <script src="qrcode.js"></script>
  <style>
    body{
      display: flex;
      flex-direction: column;
    }
    input {
      width: 30%;
      height: 30px;
      font-size: 25px;
    }
    label{
      font-size: 20px;
    }
  </style>
</head>
<body>
<label for="text">请输入需要生成二维码的网址</label><br>
<input id="text" type="text" value="https://" /><br />
<div id="qrcode" style="width:150px; height:150px; margin-top:15px;"></div>
<script type="text/javascript">
  const qrcode = new QRCode(document.getElementById("qrcode"), {
    width : 150,
    height : 150
  });

  function makeCode () {
    const elText = document.getElementById("text");
    if (!elText.value) {
      alert("Input a text");
      elText.focus();
      return;
    }
    qrcode.makeCode(elText.value);
  }

  makeCode();

  document.getElementById('text').onblur=function () {
    makeCode()
  };
  document.getElementById('text').onkeydown=function(e){
    if (e.keyCode === 13) {
      makeCode();
    }
  }

</script>
</body>
</html>
